$pref::Player::defaultFov = 90;
$pref::Player::zoomSpeed = 0;
$Pref::Net::LagThreshold = 400;
$Pref::Net::DownloadSounds = 0;
$Pref::Net::DownloadMusic = 0;
$Pref::Net::DownloadTextures = 0;
$pref::shadows = 2;
$pref::HudMessageLogSize = 40;
$pref::ChatHudLength = 1;
$pref::Input::LinkMouseSensitivity = 1;
$pref::Input::KeyboardEnabled = 1;
$pref::Input::MouseEnabled = 1;
$pref::Input::JoystickEnabled = 0;
$pref::Input::KeyboardTurnSpeed = 0.1;
$pref::Input::UseStrafeSteering = 1;
$pref::Input::UseAutoReturnSteering = 1;
$pref::sceneLighting::cacheSize = 20000;
$pref::sceneLighting::purgeMethod = "lastCreated";
$pref::sceneLighting::cacheLighting = 1;
$pref::sceneLighting::terrainGenerateLevel = 1;
$pref::OpenGL::noVertexBufferObjects = 0;
$pref::OpenGL::force16BitTexture = 0;
$pref::OpenGL::forcePalettedTexture = 0;
$pref::OpenGL::maxHardwareLights = 3;
$pref::visibleDistanceMax = 1000;
$pref::autoVisibleDistance = 0;
$pref::Audio::channelVolume1 = 1;
$pref::Audio::channelVolume2 = 1;
$pref::Audio::channelVolume3 = 1;
$pref::Audio::channelVolume4 = 1;
$pref::Audio::channelVolume5 = 1;
$pref::Audio::channelVolume6 = 1;
$pref::Audio::channelVolume7 = 1;
$pref::Audio::channelVolume8 = 1;
$pref::Audio::driver = "OpenAL";
$pref::Audio::environmentEnabled = 0;
$pref::Audio::forceMaxDistanceUpdate = 0;
$pref::Audio::masterVolume = 1;
$Pref::Audio::PlantErrorSound = 1;
$Pref::Audio::PlayBrickMoveSound = 1;
$Pref::Audio::PlayBrickPlantSound = 1;
$Pref::Audio::PlayMusic = 1;
$Pref::Audio::MenuSounds = 1;
$pref::Gui::ShowBrickSlotNumbers = 1;
$Pref::Audio::PlayBrickMoveSound = 1;
$Pref::Audio::PlantErrorSound = 0;
$Pref::Audio::PlayBrickPlantSound = 1;
$Pref::Audio::PlayMusic = 1;
$pref::HUD::tempBrickFlashoffset = 0.3;
$pref::HUD::tempBrickFlashRange = 0.3;
$pref::HUD::tempBrickFlashTime = 800;
$pref::HUD::tempBrickOutsideUsePaintColor = 1;
$pref::HUD::tempBrickOutsideRed = 1;
$pref::HUD::tempBrickOutsideGreen = 1;
$pref::HUD::tempBrickOutsideBlue = 1;
$pref::HUD::tempBrickInsideUsePaintColor = 0;
$pref::HUD::tempBrickInsideRed = 0;
$pref::HUD::tempBrickInsideGreen = 0;
$pref::HUD::tempBrickInsideBlue = 0;
$pref::Hud::RecolorBrickIcons = 1;
$pref::HUD::HideBrickBox = 1;
$pref::HUD::HidePaintBox = 1;
$pref::HUD::HideToolBox = 1;
$pref::HUD::showToolTips = 1;
$Pref::Chat::CacheLines = 1000;
$pref::Chat::ChatBufferSize = 200;
$Pref::Chat::FontSize = 14;
$Pref::Chat::LineTime = 6500;
$Pref::Chat::MaxDisplayLines = 8;
$Pref::Chat::ShowAllLines = 0;
$Pref::Chat::CurseFilter = 1;
$Pref::Chat::CurseList = "bitch,shit,fuck,fuk,cunt,nigger,niglet,asshole, ass ,faggot, fag , fags ,suck my, dick, cock , kike ,";
$pref::Chat::ChatRepeat = 0;
$pref::ChatHudLength = 1;
$pref::CloudOutline = 0;
$pref::CloudsOn = 1;
$pref::Debug::ShowFXGrassMessages = 0;
$pref::Debug::ShowShapeMessages = 0;
$pref::Debug::ShowStringMessages = 0;
$pref::Decal::decalTimeout = 5000;
$pref::Decal::maxNumDecals = 256;
$pref::decalsOn = 1;
$pref::dofSamples = 64;
$Pref::Filter::CurrentVersion = 0;
$Pref::Filter::Dedicated = 0;
$Pref::Filter::LinuxServer = 0;
$pref::Filter::maxPing = 999;
$pref::Filter::minCpu = 100;
$pref::Filter::minPlayers = 0;
$Pref::Filter::NoPassword = 0;
$Pref::Filter::NotEmpty = 0;
$Pref::Filter::NotFull = 0;
$Pref::Filter::TeamDamageOff = 0;
$Pref::Filter::TeamDamageOn = 0;
$pref::Editor::visibleDistance = 5;
$pref::environmentMaps = 1;
$pref::Gui::AutoQueryMasterServer = 1;
$Pref::Gui::ChatSize = 4;
$Pref::Gui::ColorEscapeMenu = 1;
$Pref::Gui::IgnoreFastLoadWarning = 0;
$Pref::Gui::IgnoreRemoteSaveWarning = 0;
$pref::Gui::ShowBrickSlotNumbers = 1;
$Pref::Gui::IgnorePortForwardWarning = 0;
$Pref::Gui::ShowDemosButton = 0;
$Pref::Gui::ShowPlayerListBLIDs = 0;
$Pref::Input::DefaultKeyboard = 0;
$pref::Input::FastFirstThirdPerson = 0;
$pref::Input::JoystickEnabled = 0;
$pref::Input::KeyboardEnabled = 1;
$pref::Input::KeyboardTurnSpeed = 0.5;
$pref::Input::LinkMouseSensitivity = 1;
$pref::Input::MouseEnabled = 0;
$pref::Input::MouseInvert = 0;
$Pref::Input::VehicleMouseInvert = 0;
$pref::Input::MouseSensitivity = 0.75;
$pref::Input::noobjet = 0;
$pref::Input::QueueBrickBuying = 1;
$pref::Input::ReverseBrickScroll = 0;
$Pref::Input::SelectedDefaults = 0;
$pref::Input::UseSuperShiftSmartToggle = 1;
$pref::Input::UseSuperShiftToggle = 1;
$pref::Input::AutoLight = 1;
$pref::Input::MacroRate = 110;
$Pref::Net::MaxSimultaneousPings = 10;
$pref::NumCloudLayers = 3;
$pref::OpenGL::noVertexBufferObjects = 0;
$pref::OpenGL::allowCompression = 0;
$pref::OpenGL::allowTexGen = 1;
$pref::OpenGL::anisotropy = 0;
$pref::OpenGL::disableARBMultitexture = 0;
$pref::OpenGL::disableARBTextureCompression = 0;
$pref::OpenGL::disableEXTCompiledVertexArray = 0;
$pref::OpenGL::disableEXTFogCoord = 0;
$pref::OpenGL::disableEXTPalettedTexture = 0;
$pref::OpenGL::disableEXTTexEnvCombine = 0;
$pref::OpenGL::disableSubImage = 0;
$pref::OpenGL::doAnimatedLights = 1;
$pref::OpenGL::force16BitTexture = 0;
$pref::OpenGL::forcePalettedTexture = 0;
$pref::OpenGL::gammaCorrection = 0.5;
$pref::OpenGL::maxDynLights = 5;
$pref::OpenGL::maxHardwareLights = 8;
$pref::OpenGL::noDrawArraysAlpha = 0;
$pref::OpenGL::noEnvColor = 0;
$pref::OpenGL::numFSAASamples = 16;
$pref::OpenGL::skyTexDetail = 0;
$pref::OpenGL::texDetail = 0;
$pref::OpenGL::textureAnisotropy = 0;
$pref::OpenGL::textureTrilinear = 1;
$pref::OpenGL::useGLNearest = 0;
$pref::ParticleDetail = 1;
$pref::ParticleFalloffMaxLevel = 3;
$pref::ParticleFalloffMinDistance = 35;
$pref::ParticleQuality = 0;
$pref::precipitationOn = 1;
$pref::sceneLighting::cacheLighting = 1;
$pref::sceneLighting::cacheSize = 20000;
$pref::sceneLighting::purgeMethod = "lastCreated";
$pref::sceneLighting::terrainGenerateLevel = 1;
$pref::ShadowQuality = 0;
$pref::ShadowResolution = 0;
$pref::shadows = 1;
$pref::SkyOn = 1;
$pref::Terrain::dynamicLights = 1;
$pref::Terrain::enableDetails = 1;
$pref::Terrain::enableEmbossBumps = 1;
$pref::Terrain::screenError = 5;
$pref::Terrain::texDetail = 0;
$pref::Terrain::textureCacheSize = 220;
$pref::TS::autoDetail = 1;
$pref::TS::detailAdjust = 1;
$pref::TS::fogTexture = 0;
$pref::TS::screenError = 0.001;
$pref::TS::skipFirstFog = 0;
$pref::TS::skipLoadDLs = 0;
$pref::TS::skipRenderDLs = 0;
$pref::TS::UseTriangles = 0;
$pref::Video::allowD3D = 1;
$pref::Video::allowOpenGL = 1;
$pref::Video::resolution = "";
$pref::Video::safeModeOn = 1;
$pref::Video::screenShotFormat = "PNG";
$pref::Video::useSmallPlantErrors = 0;
$pref::Video::windowedRes = "";
$pref::Video::disableVerticalSync = 1;
$pref::Video::displayDevice = "OpenGL";
$pref::Video::fullScreen = 0;
$pref::Video::Borderless = 0;
$pref::Video::monitorNum = 0;
$pref::Video::only16 = 0;
$pref::Video::preferOpenGL = 1;
$pref::Video::allowOpenGL = 1;
$pref::Video::allowD3D = 0;
$pref::visibleDistanceMod = 1;
$pref::Avatar::Accent = 0;
$pref::Avatar::AccentColor = "0.000 0.200 0.640 0.700";
$pref::Avatar::Authentic = 0;
$Pref::Avatar::Chest = 0;
$pref::Avatar::ChestColor = 7;
$pref::Avatar::DecalColor = 15;
$Pref::Avatar::DecalName = "AAA-None";
$pref::Avatar::FaceColor = 11;
$Pref::Avatar::FaceName = "smiley";
$pref::Avatar::Hat = 0;
$pref::Avatar::HatColor = "1 1 0 1";
$pref::Avatar::HeadColor = "1 0.878431 0.611765 1";
$Pref::Avatar::Hip = 0;
$pref::Avatar::HipColor = "0 0 1 1";
$Pref::Avatar::LArm = 0;
$pref::Avatar::LArmColor = "0.9 0 0 1";
$Pref::Avatar::LHand = 0;
$pref::Avatar::LHandColor = "1 0.878431 0.611765 1";
$Pref::Avatar::LLeg = 0;
$pref::Avatar::LLegColor = "0 0 1 1";
$pref::Avatar::Pack = 0;
$pref::Avatar::PackColor = "0 0.435323 0.831776 1";
$Pref::Avatar::RArm = 0;
$pref::Avatar::RArmColor = "0.9 0 0 1";
$Pref::Avatar::RHand = 0;
$pref::Avatar::RHandColor = "1 0.878431 0.611765 1";
$Pref::Avatar::RLeg = 0;
$pref::Avatar::RLegColor = "0 0 1 1";
$Pref::Avatar::SecondPack = 0;
$pref::Avatar::SecondPackColor = "0 1 0 1";
$pref::Avatar::TorsoColor = "0.9 0.9 0.9 1";
$pref::Player::Symmetry = 1;
$Pref::Player::ClanPrefix = "";
$Pref::Player::ClanSuffix = "";
$Pref::player::CurrentFOV = 10;
$pref::Player::defaultFov = 90;
$pref::Player::LANName = "Blockhead";
$pref::Player::NetName = "";
$pref::Player::renderMyItems = 1;
$pref::Player::renderMyPlayer = 1;
$pref::Player::renderMyJets = 0;
$pref::Player::zoomSpeed = 5;
$Favorite::Brick1_0 = "32x32 Base";
$Favorite::Brick1_1 = "2x4";
$Favorite::Brick1_2 = "2x2";
$Favorite::Brick1_3 = "1x4";
$Favorite::Brick1_4 = "1x2";
$Favorite::Brick1_5 = "1x1";
$Favorite::Brick1_6 = "1x16";
$Favorite::Brick1_7 = "6x12F";
$Favorite::Brick1_8 = "1x4x5 Window";
$Favorite::Brick1_9 = "Vehicle Spawn";
$Favorite::Brick2_0 = "32x32 Road";
$Favorite::Brick2_1 = "32x32 Road T";
$Favorite::Brick2_2 = "32x32 Road C";
$Favorite::Brick2_3 = "32x32 Road X";
$Favorite::Brick2_4 = "32x32 Base";
$Favorite::Brick2_5 = "Pine Tree";
$Favorite::Brick2_6 = "1x4x2 Fence";
$Favorite::Brick2_7 = "2x2x5 Lattice";
$Favorite::Brick2_8 = "Castle Wall";
$Favorite::Brick2_9 = "1x4x5 Window";
$pref::SaveExtendedBrickInfo = 1;
$pref::SaveOwnership = 1;
$pref::LoadBrickOwnership = 1;
$pref::LightingQuality = 1;
$pref::PhysicsQuality = 1;
$pref::Physics::Enabled = 1;
$pref::Physics::MaxBricks = 100;
$pref::BrickFXQuality = 0;
$Pref::BrickFX::Color = 1;
$Pref::BrickFX::Shape = 1;
function vendorSpecificDefaults()
{
	%vendor = getGLVendor();
	%renderer = getGLRenderer();
	if (isMacintosh() && stripos(%vendor, "Intel") != -1)
	{
		%deskRes = getDesktopResolution();
		%w = getWord(%deskRes, 0);
		%h = getWord(%deskRes, 1);
		if (%w > 1024 && %h > 768)
		{
			$pref::Video::resolution = "1024 768 32 60";
		}
	}
	if (stripos(%vendor, "Intel") != -1 || stripos(%vendor, "S3") != -1 || stripos(%vendor, "SiS") != -1)
	{
		$pref::OpenGL::maxDynLights = 3;
		$pref::Terrain::enableDetails = 0;
		$pref::Terrain::enableEmbossBumps = 0;
		$pref::ParticleDetail = 2;
		$pref::ParticleQuality = 1;
		$pref::LightingQuality = 3;
		$pref::OpenGL::maxDynLights = 4;
		$pref::OpenGL::maxHardwareLights = 4;
		$pref::OpenGL::textureAnisotropy = 0;
		$pref::OpenGL::textureTrilinear = 0;
	}
	else if (stripos(%vendor, "nvidia") != -1)
	{
		if (strpos(%renderer, 8800) != -1 || strpos(%renderer, 8600) != -1 || strpos(%renderer, 7900) != -1 || strpos(%renderer, 7800) != -1 || strpos(%renderer, 7600) != -1 || strpos(%renderer, 6800) != -1)
		{
			$pref::OpenGL::anisotropy = 1;
			$pref::OpenGL::textureTrilinear = 1;
		}
	}
	else if (stripos(%vendor, "ati") != -1)
	{
		if (strpos(%renderer, "HD2900") != -1 || strpos(%renderer, "HD3870") != -1 || strpos(%renderer, 1950) != -1 || strpos(%renderer, "X850") != -1 || strpos(%renderer, "X1800") != -1 || strpos(%renderer, "X1650") != -1 || strpos(%renderer, "X1300") != -1 || strpos(%renderer, "X1600") != -1)
		{
			$pref::OpenGL::anisotropy = 1;
			$pref::OpenGL::textureTrilinear = 1;
		}
	}
	%mhz = getCPUMhz();
	if (%mhz <= 800)
	{
		$pref::TextureQuality = 2;
		$pref::ParticleDetail = 10;
		$pref::ParticleQuality = 3;
		$pref::ShadowResolution = 4;
		$pref::LightingQuality = 4;
		$pref::OpenGL::maxDynLights = 2;
		$pref::OpenGL::maxHardwareLights = 3;
		$pref::PhysicsQuality = 4;
		$pref::Physics::Enabled = 0;
		$pref::Physics::MaxBricks = 1;
		$pref::BrickFXQuality = 4;
		$Pref::BrickFX::Shape = 0;
		$Pref::BrickFX::Color = 0;
	}
	else if (%mhz <= 1000)
	{
		$pref::ShadowResolution = 2;
		$pref::PhysicsQuality = 4;
		$pref::Physics::Enabled = 0;
		$pref::Physics::MaxBricks = 1;
		$pref::BrickFXQuality = 4;
		$Pref::BrickFX::Shape = 0;
		$Pref::BrickFX::Color = 0;
	}
	else if (%mhz <= 1500)
	{
		$pref::ShadowResolution = 1;
		$pref::PhysicsQuality = 3;
		$pref::Physics::Enabled = 1;
		$pref::Physics::MaxBricks = 10;
		$pref::BrickFXQuality = 2;
		$Pref::BrickFX::Shape = 0;
		$Pref::BrickFX::Color = 1;
	}
}

function setShaderDefaults()
{
	%vendor = getGLVendor();
	%renderer = getGLRenderer();
	%renderer = strreplace(%renderer, " ", "_");
	echo("");
	echo("Setting default shader level...");
	%quality = -1;
	optionsDlg.UpdateAvailableShaders();
	if (!OPT_ShaderQuality1.enabled)
	{
		echo("  shaders not supported");
		return;
	}
	if (stripos(%vendor, "nvidia") != -1)
	{
		if (stripos(%renderer, "M") != -1)
		{
			if (stripos(%renderer, "XXXXXXXX") != -1)
			{
				%quality = 0;
			}
			else if (stripos(%renderer, "GTX_980M") != -1)
			{
				%quality = 6;
			}
			else if (stripos(%renderer, "GTX_970M") != -1)
			{
				%quality = 4;
			}
			else if (stripos(%renderer, "GTX_880M") != -1)
			{
				%quality = 4;
			}
			else if (stripos(%renderer, "GTX_780M") != -1)
			{
				%quality = 5;
			}
			else if (stripos(%renderer, "GTX_775M") != -1)
			{
				%quality = 4;
			}
			else if (stripos(%renderer, "GTX_770M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_765M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_760M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_680M") != -1)
			{
				%quality = 4;
			}
			else if (stripos(%renderer, "GTX_675M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_670M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_660M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GTX_580M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_570M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_560M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_485M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_480M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_470M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_460M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GTX_285M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GTX_280M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GTX_260M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GTX_360M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GTX_350M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GTX_250M") != -1)
			{
				%quality = 2;
			}
			if (stripos(%renderer, "GT_755M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GT_750M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GT_745M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GT_740M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_730M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GT_735M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_720M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_650M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GT_645M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_640M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_630M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT625M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_550M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_550M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_520M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_445M") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "GT_435M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_435M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_430M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_415M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_335M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_330M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_325M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_320M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_240M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_230M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_220M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_130M") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "GT_120M") != -1)
			{
				%quality = 2;
			}
		}
		else if (stripos(%renderer, "GTX_TITAN") != -1)
		{
			%quality = 6;
		}
		else if (stripos(%renderer, "GTX_980") != -1)
		{
			%quality = 6;
		}
		else if (stripos(%renderer, "GTX_970") != -1)
		{
			%quality = 6;
		}
		else if (stripos(%renderer, "GTX_780") != -1)
		{
			%quality = 6;
		}
		else if (stripos(%renderer, "GTX_770") != -1)
		{
			%quality = 6;
		}
		else if (stripos(%renderer, "GTX_760") != -1)
		{
			%quality = 5;
		}
		else if (stripos(%renderer, "GTX_680") != -1)
		{
			%quality = 5;
		}
		else if (stripos(%renderer, "GTX_670") != -1)
		{
			%quality = 5;
		}
		else if (stripos(%renderer, "GTX_660") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "GTX_650_Ti_BOOST") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "GTX_650_Ti") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "GTX_650") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "GTX_590") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "GTX_580") != -1)
		{
			%quality = 5;
		}
		else if (stripos(%renderer, "GTX_570") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "GTX_560_Ti") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "GTX_560") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "GTX_550_Ti") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "GTX_480") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "GTX_470") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "GTX_465") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "GTX_460") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "GTX_295") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "GTX_285") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "GTX_280") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "GTX_275") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "GTX_260") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "GTS_450") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "GTS_350") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "GTS_250") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "GTS_240") != -1)
		{
			%quality = 2;
		}
	}
	if (stripos(%vendor, "ati") != -1)
	{
		if (stripos(%renderer, "mobility") != -1)
		{
			if (stripos(%renderer, "XXXXXXX") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "HD_8970") != -1)
			{
				%quality = 4;
			}
			else if (stripos(%renderer, "HD_8870") != -1)
			{
				%quality = 3;
			}
			else if (stripos(%renderer, "HD_8790") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "HD_8670") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "HD_5870") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "HD_5850") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "HD_5730") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "HD_5000") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "HD_4870") != -1)
			{
				%quality = 2;
			}
			else if (stripos(%renderer, "HD_4850") != -1)
			{
				%quality = 2;
			}
		}
		else if (stripos(%renderer, "XXXXX") != -1)
		{
			%quality = 5;
		}
		else if (stripos(%renderer, "HD_89") != -1)
		{
			%quality = 5;
		}
		else if (stripos(%renderer, "HD_79") != -1)
		{
			%quality = 5;
		}
		else if (stripos(%renderer, "HD_7870") != -1)
		{
			%quality = 5;
		}
		else if (stripos(%renderer, "HD_78") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "HD_77") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "HD_76") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_75") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_74") != -1)
		{
			%quality = 1;
		}
		else if (stripos(%renderer, "HD_73") != -1)
		{
			%quality = 1;
		}
		else if (stripos(%renderer, "HD_6900M") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_69") != -1)
		{
			%quality = 4;
		}
		else if (stripos(%renderer, "HD_6800M") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_68") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "HD_6750M") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_6770M") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_6700M") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_67") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "HD_6670") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "HD_66") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_65") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_59") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "HD_58") != -1)
		{
			%quality = 3;
		}
		else if (stripos(%renderer, "HD_57") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_56") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_4850") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_4870") != -1)
		{
			%quality = 2;
		}
		else if (stripos(%renderer, "HD_4890") != -1)
		{
			%quality = 2;
		}
	}
	if (stripos(%vendor, "intel") != -1)
	{
		if (stripos(%renderer, 5200) != -1)
		{
			%quality = 1;
		}
		else if (stripos(%renderer, 5100) != -1)
		{
			%quality = 1;
		}
		else if (stripos(%renderer, 5000) != -1)
		{
			%quality = 1;
		}
		else
		{
			%quality = 0;
		}
	}
	if (!OPT_ShaderQuality2.enabled)
	{
		if (%quality > 1)
		{
			echo("  csm not supported by driver, reducing from " @ %quality @ " to 1");
		}
		else
		{
			echo("  csm not supported");
		}
		%quality = mClamp(%quality, 0, 1);
	}
	if (isMacintosh())
	{
		if (%quality > 1)
		{
			echo("  csm not supported by driver, reducing from " @ %quality @ " to 1");
		}
		else
		{
			echo("  csm not supported");
		}
		%quality = mClamp(%quality, 0, 1);
	}
	if (getCPUMhz() > 0)
	{
		if (getCPUMhz() < 2400)
		{
			if (%quality > 2)
			{
				echo("  low cpu speed, reducing from " @ %quality @ " to " @ mClamp(%quality, 0, 2));
			}
			%quality = mClamp(%quality, 0, 2);
		}
		else if (getCPUMhz() < 3000)
		{
			if (%quality > 3)
			{
				echo("  low cpu speed, reducing from " @ %quality @ " to " @ mClamp(%quality, 0, 3));
			}
			%quality = mClamp(%quality, 0, 3);
		}
	}
	echo("  Shader level set to " @ %quality);
	echo("");
	if (%quality >= 0)
	{
		optionsDlg.setShaderQuality(%quality);
	}
}

$Pref::Gui::SelectedGameMode = "Add-Ons/GameMode_Tutorial/gamemode.txt";
